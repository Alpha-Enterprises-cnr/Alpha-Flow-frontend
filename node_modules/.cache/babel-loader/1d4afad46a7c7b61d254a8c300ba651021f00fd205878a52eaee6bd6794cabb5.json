{"ast":null,"code":"import _objectSpread from\"C:/React Folder/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Typography,Card,CardContent,Button,Stack,TextField,Chip}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MasterCorrespondence(_ref){let{data,onBack,onAssignWorkNumber}=_ref;const[workNumbers,setWorkNumbers]=useState({});const[notes,setNotes]=useState({});const handleAssign=index=>{const newWorkNumber=workNumbers[index];if(newWorkNumber&&onAssignWorkNumber){onAssignWorkNumber(index,newWorkNumber);setWorkNumbers(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:''}));}};const handleNoteChange=(worknumber,value)=>{setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{[worknumber]:value}));};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',maxWidth:'1000px',margin:'0 auto',background:'linear-gradient(to right, #1e3c72, #2a5298)',minHeight:'100vh',color:'white',position:'relative'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",style:{position:'absolute',top:'20px',left:'20px',color:'white',borderColor:'white'},onClick:onBack,children:\"\\u2B05 Back to Dashboard\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"center\",gutterBottom:true,style:{marginTop:'2rem'},children:\"Master Correspondence\"}),data.length===0?/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"No correspondence entries found.\"}):/*#__PURE__*/_jsx(Stack,{spacing:2,style:{marginTop:'2rem'},children:[...data].reverse().map((entry,idx)=>{var _entry$status;const index=data.length-1-idx;let gradientBackground;if(entry.priority==='High'){gradientBackground='linear-gradient(to right, rgb(176, 170, 110), #fbc02d)';}else if(entry.priority==='Medium'){gradientBackground='linear-gradient(to right, #aed581, #7cb342)';}else{gradientBackground='linear-gradient(to right, #66bb6a, #2e7d32)';}return/*#__PURE__*/_jsx(Card,{style:{background:gradientBackground,color:'black',borderRadius:'10px',boxShadow:'0px 4px 12px rgba(0,0,0,0.2)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Filled by:\"}),\" \",entry.name]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Site Name:\"}),\" \",entry.sitename]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nature of Work:\"}),\" \",entry.natureofwork]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority:\"}),\" \",entry.priority]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remarks:\"}),\" \",entry.remarks]}),entry.worknumber?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Work Number:\"}),\" \",entry.worknumber]}),/*#__PURE__*/_jsx(TextField,{label:\"Notes\",fullWidth:true,multiline:true,rows:3,value:notes[entry.worknumber]||'',onChange:e=>handleNoteChange(entry.worknumber,e.target.value),style:{marginTop:'1rem'}})]}):/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(TextField,{label:\"Assign Work Number\",size:\"small\",value:workNumbers[index]||'',onChange:e=>setWorkNumbers(_objectSpread(_objectSpread({},workNumbers),{},{[index]:e.target.value})),style:{marginRight:'1rem'}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:()=>handleAssign(index),children:\"Assign\"})]}),/*#__PURE__*/_jsxs(Typography,{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),' ',entry.status?entry.status:entry.worknumber?entry.surveySubmitted?'Survey Submitted':'Registered - waiting for survey supporting documents':'Registered - waiting for work number']}),entry.surveySubmitted&&/*#__PURE__*/_jsx(Typography,{style:{marginTop:'0.5rem',color:'blue'},children:\"\\uD83D\\uDCF8 Work survey supporting documents have been submitted.\"}),((_entry$status=entry.status)===null||_entry$status===void 0?void 0:_entry$status.includes('Approved by Accounts'))&&/*#__PURE__*/_jsx(Chip,{label:\"\\u2705 Approved by Accounts\",color:\"success\",style:{marginTop:'0.8rem'}})]})},idx);})})]});}export default MasterCorrespondence;","map":{"version":3,"names":["React","useState","Typography","Card","CardContent","Button","Stack","TextField","Chip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MasterCorrespondence","_ref","data","onBack","onAssignWorkNumber","workNumbers","setWorkNumbers","notes","setNotes","handleAssign","index","newWorkNumber","prev","_objectSpread","handleNoteChange","worknumber","value","style","padding","maxWidth","margin","background","minHeight","color","position","children","variant","top","left","borderColor","onClick","align","gutterBottom","marginTop","length","spacing","reverse","map","entry","idx","_entry$status","gradientBackground","priority","borderRadius","boxShadow","name","sitename","natureofwork","remarks","label","fullWidth","multiline","rows","onChange","e","target","size","marginRight","status","surveySubmitted","includes"],"sources":["C:/React Folder/my-app/client/src/MasterCorrespondence.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Typography,\n  Card,\n  CardContent,\n  Button,\n  Stack,\n  TextField,\n  Chip,\n} from '@mui/material';\n\nfunction MasterCorrespondence({ data, onBack, onAssignWorkNumber }) {\n  const [workNumbers, setWorkNumbers] = useState({});\n  const [notes, setNotes] = useState({});\n\n  const handleAssign = (index) => {\n    const newWorkNumber = workNumbers[index];\n    if (newWorkNumber && onAssignWorkNumber) {\n      onAssignWorkNumber(index, newWorkNumber);\n      setWorkNumbers((prev) => ({ ...prev, [index]: '' }));\n    }\n  };\n\n  const handleNoteChange = (worknumber, value) => {\n    setNotes((prev) => ({ ...prev, [worknumber]: value }));\n  };\n\n  return (\n    <div\n      style={{\n        padding: '2rem',\n        maxWidth: '1000px',\n        margin: '0 auto',\n        background: 'linear-gradient(to right, #1e3c72, #2a5298)',\n        minHeight: '100vh',\n        color: 'white',\n        position: 'relative',\n      }}\n    >\n      <Button\n        variant=\"outlined\"\n        style={{\n          position: 'absolute',\n          top: '20px',\n          left: '20px',\n          color: 'white',\n          borderColor: 'white',\n        }}\n        onClick={onBack}\n      >\n        â¬… Back to Dashboard\n      </Button>\n\n      <Typography variant=\"h5\" align=\"center\" gutterBottom style={{ marginTop: '2rem' }}>\n        Master Correspondence\n      </Typography>\n\n      {data.length === 0 ? (\n        <Typography align=\"center\">No correspondence entries found.</Typography>\n      ) : (\n        <Stack spacing={2} style={{ marginTop: '2rem' }}>\n          {[...data].reverse().map((entry, idx) => {\n            const index = data.length - 1 - idx;\n\n            let gradientBackground;\n            if (entry.priority === 'High') {\n              gradientBackground = 'linear-gradient(to right, rgb(176, 170, 110), #fbc02d)';\n            } else if (entry.priority === 'Medium') {\n              gradientBackground = 'linear-gradient(to right, #aed581, #7cb342)';\n            } else {\n              gradientBackground = 'linear-gradient(to right, #66bb6a, #2e7d32)';\n            }\n\n            return (\n              <Card\n                key={idx}\n                style={{\n                  background: gradientBackground,\n                  color: 'black',\n                  borderRadius: '10px',\n                  boxShadow: '0px 4px 12px rgba(0,0,0,0.2)',\n                }}\n              >\n                <CardContent>\n                  <Typography><strong>Filled by:</strong> {entry.name}</Typography>\n                  <Typography><strong>Site Name:</strong> {entry.sitename}</Typography>\n                  <Typography><strong>Nature of Work:</strong> {entry.natureofwork}</Typography>\n                  <Typography><strong>Priority:</strong> {entry.priority}</Typography>\n                  <Typography><strong>Remarks:</strong> {entry.remarks}</Typography>\n\n                  {entry.worknumber ? (\n                    <>\n                      <Typography><strong>Work Number:</strong> {entry.worknumber}</Typography>\n\n                      {/* âœ… Notes Box */}\n                      <TextField\n                        label=\"Notes\"\n                        fullWidth\n                        multiline\n                        rows={3}\n                        value={notes[entry.worknumber] || ''}\n                        onChange={(e) => handleNoteChange(entry.worknumber, e.target.value)}\n                        style={{ marginTop: '1rem' }}\n                      />\n                    </>\n                  ) : (\n                    <div style={{ marginTop: '1rem' }}>\n                      <TextField\n                        label=\"Assign Work Number\"\n                        size=\"small\"\n                        value={workNumbers[index] || ''}\n                        onChange={(e) =>\n                          setWorkNumbers({ ...workNumbers, [index]: e.target.value })\n                        }\n                        style={{ marginRight: '1rem' }}\n                      />\n                      <Button variant=\"contained\" size=\"small\" onClick={() => handleAssign(index)}>\n                        Assign\n                      </Button>\n                    </div>\n                  )}\n\n                  <Typography style={{ marginTop: '0.5rem' }}>\n                    <strong>Status:</strong>{' '}\n                    {entry.status\n                      ? entry.status\n                      : entry.worknumber\n                      ? entry.surveySubmitted\n                        ? 'Survey Submitted'\n                        : 'Registered - waiting for survey supporting documents'\n                      : 'Registered - waiting for work number'}\n                  </Typography>\n\n                  {entry.surveySubmitted && (\n                    <Typography style={{ marginTop: '0.5rem', color: 'blue' }}>\n                      ðŸ“¸ Work survey supporting documents have been submitted.\n                    </Typography>\n                  )}\n\n                  {/* âœ… Show Approved Chip */}\n                  {entry.status?.includes('Approved by Accounts') && (\n                    <Chip\n                      label=\"âœ… Approved by Accounts\"\n                      color=\"success\"\n                      style={{ marginTop: '0.8rem' }}\n                    />\n                  )}\n                </CardContent>\n              </Card>\n            );\n          })}\n        </Stack>\n      )}\n    </div>\n  );\n}\n\nexport default MasterCorrespondence;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}