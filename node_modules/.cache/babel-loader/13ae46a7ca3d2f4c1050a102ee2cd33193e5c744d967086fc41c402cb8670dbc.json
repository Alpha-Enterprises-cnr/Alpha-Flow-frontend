{"ast":null,"code":"import _objectSpread from\"C:/React Folder/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Typography,Card,CardContent,Button,Stack,Chip}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Accounts(_ref){let{accountData=[],onBack,onApproveStatus}=_ref;const[approvedWorks,setApprovedWorks]=useState({});const handleDownload=(fileName,fileUrl)=>{if(!fileName||!fileUrl){alert('File not available for download.');return;}const link=document.createElement('a');link.href=fileUrl;link.setAttribute('download',fileName);document.body.appendChild(link);link.click();document.body.removeChild(link);};const handleApprove=entry=>{const worknumber=entry.worknumber;setApprovedWorks(prev=>_objectSpread(_objectSpread({},prev),{},{[worknumber]:true}));// âœ… Set clear, simple status\nif(onApproveStatus){onApproveStatus(worknumber,'Approved by Accounts');}};const getCardColor=priority=>{if(priority==='High')return'linear-gradient(to right, rgb(176, 170, 110), #fbc02d)';if(priority==='Medium')return'linear-gradient(to right, #aed581, #7cb342)';return'linear-gradient(to right, #66bb6a, #2e7d32)';};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',maxWidth:'900px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Accounts Panel\"}),accountData.length===0?/*#__PURE__*/_jsx(Typography,{children:\"No submissions from Systems yet.\"}):/*#__PURE__*/_jsx(Stack,{spacing:2,children:accountData.map((entry,idx)=>{var _entry$status,_entry$files;const isApproved=approvedWorks[entry.worknumber]||((_entry$status=entry.status)===null||_entry$status===void 0?void 0:_entry$status.toLowerCase().includes('approved'));return/*#__PURE__*/_jsx(Card,{style:{background:getCardColor(entry.priority),color:'black',borderRadius:'10px',boxShadow:'0px 4px 12px rgba(0,0,0,0.2)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Work Number:\"}),\" \",entry.worknumber]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Filled by:\"}),\" \",entry.name]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Site Name:\"}),\" \",entry.sitename]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nature of Work:\"}),\" \",entry.natureofwork]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority:\"}),\" \",entry.priority]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remarks:\"}),\" \",entry.remarks]}),((_entry$files=entry.files)===null||_entry$files===void 0?void 0:_entry$files.length)>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"\\uD83D\\uDCCE Files Submitted from Systems:\"}),entry.files.map((file,i)=>/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>handleDownload(file.name,file.url),style:{marginTop:'0.5rem',marginRight:'0.5rem'},children:file.name},i))]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:isApproved?/*#__PURE__*/_jsx(Chip,{label:\"\\u2705 Approved - Waiting for Workslip\",color:\"success\"}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>handleApprove(entry),children:\"Approve\"})})]})},idx);})}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:onBack,style:{marginTop:'2rem'},children:\"Back to Dashboard\"})]});}export default Accounts;","map":{"version":3,"names":["React","useState","Typography","Card","CardContent","Button","Stack","Chip","jsx","_jsx","jsxs","_jsxs","Accounts","_ref","accountData","onBack","onApproveStatus","approvedWorks","setApprovedWorks","handleDownload","fileName","fileUrl","alert","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","handleApprove","entry","worknumber","prev","_objectSpread","getCardColor","priority","style","padding","maxWidth","margin","children","variant","gutterBottom","length","spacing","map","idx","_entry$status","_entry$files","isApproved","status","toLowerCase","includes","background","color","borderRadius","boxShadow","name","sitename","natureofwork","remarks","files","marginTop","file","i","onClick","url","marginRight","label"],"sources":["C:/React Folder/my-app/client/src/Accounts.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Typography,\n  Card,\n  CardContent,\n  Button,\n  Stack,\n  Chip,\n} from '@mui/material';\n\nfunction Accounts({ accountData = [], onBack, onApproveStatus }) {\n  const [approvedWorks, setApprovedWorks] = useState({});\n\n  const handleDownload = (fileName, fileUrl) => {\n    if (!fileName || !fileUrl) {\n      alert('File not available for download.');\n      return;\n    }\n\n    const link = document.createElement('a');\n    link.href = fileUrl;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handleApprove = (entry) => {\n    const worknumber = entry.worknumber;\n    setApprovedWorks((prev) => ({ ...prev, [worknumber]: true }));\n\n    // âœ… Set clear, simple status\n    if (onApproveStatus) {\n      onApproveStatus(worknumber, 'Approved by Accounts');\n    }\n  };\n\n  const getCardColor = (priority) => {\n    if (priority === 'High') return 'linear-gradient(to right, rgb(176, 170, 110), #fbc02d)';\n    if (priority === 'Medium') return 'linear-gradient(to right, #aed581, #7cb342)';\n    return 'linear-gradient(to right, #66bb6a, #2e7d32)';\n  };\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '900px', margin: '0 auto' }}>\n      <Typography variant=\"h5\" gutterBottom>Accounts Panel</Typography>\n\n      {accountData.length === 0 ? (\n        <Typography>No submissions from Systems yet.</Typography>\n      ) : (\n        <Stack spacing={2}>\n          {accountData.map((entry, idx) => {\n            const isApproved = approvedWorks[entry.worknumber] || entry.status?.toLowerCase().includes('approved');\n\n            return (\n              <Card\n                key={idx}\n                style={{\n                  background: getCardColor(entry.priority),\n                  color: 'black',\n                  borderRadius: '10px',\n                  boxShadow: '0px 4px 12px rgba(0,0,0,0.2)',\n                }}\n              >\n                <CardContent>\n                  <Typography><strong>Work Number:</strong> {entry.worknumber}</Typography>\n                  <Typography><strong>Filled by:</strong> {entry.name}</Typography>\n                  <Typography><strong>Site Name:</strong> {entry.sitename}</Typography>\n                  <Typography><strong>Nature of Work:</strong> {entry.natureofwork}</Typography>\n                  <Typography><strong>Priority:</strong> {entry.priority}</Typography>\n                  <Typography><strong>Remarks:</strong> {entry.remarks}</Typography>\n\n                  {entry.files?.length > 0 && (\n                    <div style={{ marginTop: '1rem' }}>\n                      <Typography variant=\"subtitle2\">ðŸ“Ž Files Submitted from Systems:</Typography>\n                      {entry.files.map((file, i) => (\n                        <Button\n                          key={i}\n                          variant=\"outlined\"\n                          onClick={() => handleDownload(file.name, file.url)}\n                          style={{ marginTop: '0.5rem', marginRight: '0.5rem' }}\n                        >\n                          {file.name}\n                        </Button>\n                      ))}\n                    </div>\n                  )}\n\n                  <div style={{ marginTop: '1rem' }}>\n                    {isApproved ? (\n                      <Chip label=\"âœ… Approved - Waiting for Workslip\" color=\"success\" />\n                    ) : (\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => handleApprove(entry)}\n                      >\n                        Approve\n                      </Button>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </Stack>\n      )}\n\n      <Button variant=\"outlined\" onClick={onBack} style={{ marginTop: '2rem' }}>\n        Back to Dashboard\n      </Button>\n    </div>\n  );\n}\n\nexport default Accounts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}